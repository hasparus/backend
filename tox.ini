[tox]
envlist = py38,lint
skipsdist = true

[gh-actions]
python =
    3.8: py38, lint

[testenv]
deps =
	-r app/requirements.txt
	-r app/requirements_dev.txt
setenv =
	PYTHONPATH=app
commands =
	pytest --cov

[pytest]
DJANGO_SETTINGS_MODULE = zagrajmy.settings
python_files = tests.py test_*.py tests.py

[testenv:lint]
setenv =
	PYTHONPATH=app
deps =
	-r app/requirements.txt
	-r app/requirements_dev.txt
commands =
  black app
  isort -rc app
  pycodestyle app
  pydocstyle app
  bandit app
  mypy app
  pylint app
